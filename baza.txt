CREATE TABLE `system`.`uzytkownicy` (
  `id_uzyt` INT NOT NULL,
  `imie` VARCHAR(45) NULL,
  `nazwisko` VARCHAR(45) NULL,
  `email` VARCHAR(45) NULL,
  `login` VARCHAR(45) NULL,
  `haslo` VARCHAR(45) NULL,
  PRIMARY KEY (`id_uzyt`));

CREATE TABLE `system`.`pracownicy` (
  `id_prac` INT NOT NULL,
  `imie` VARCHAR(45) NULL,
  `nazwisko` VARCHAR(45) NULL,
  `email` VARCHAR(45) NULL,
  `login` VARCHAR(45) NULL,
  `haslo` VARCHAR(45) NULL,
  `nadzorca` TINYINT NULL,
  PRIMARY KEY (`id_prac`));

CREATE TABLE `system`.`status` (
  `id_status` INT NOT NULL,
  `nazwa` VARCHAR(45) NULL,
  PRIMARY KEY (`id_status`));

CREATE TABLE `system`.`kategorie` (
  `id_kategoria` INT NOT NULL,
  `nazwa` VARCHAR(45) NULL,
  PRIMARY KEY (`id_kategoria`));
CREATE TABLE `system`.`priorytet` (
  `id_pryiorytet` INT NOT NULL,
  `nazwa` VARCHAR(45) NULL,
  PRIMARY KEY (`id_priorytet`));


CREATE TABLE `system`.`zgloszenia` (
  `id_zglosz` INT NOT NULL,
  `opis` VARCHAR(45) NULL,
  `obraz` BLOB NULL,
  `data_przyj` DATETIME NULL,
  `data_max` DATETIME NULL,
  `data_real` DATETIME NULL,
  `id_urzyt` INT NULL,
  `id_kategoria` INT NULL,
  `id_status` INT NULL,
  `id_priorytet` INT NULL,
  PRIMARY KEY (`id_zglosz`),
  INDEX `id_kategoria_idx` (`id_kategoria` ASC) VISIBLE,
  INDEX `id_status_idx` (`id_status` ASC) VISIBLE,
  INDEX `id_priorytet_idx` (`id_priorytet` ASC) VISIBLE,
  INDEX `id_urzyt_idx` (`id_urzyt` ASC) VISIBLE,
  CONSTRAINT `id_urzyt`
    FOREIGN KEY (`id_urzyt`)
    REFERENCES `system`.`uzytkownicy` (`id_uzyt`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `id_kategoria`
    FOREIGN KEY (`id_kategoria`)
    REFERENCES `system`.`kategorie` (`id_kategoria`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `id_status`
    FOREIGN KEY (`id_status`)
    REFERENCES `system`.`status` (`id_status`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `id_priorytet`
    FOREIGN KEY (`id_priorytet`)
    REFERENCES `system`.`priorytet` (`id_priorytet`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);
CREATE TABLE `system`.`komentarze` (
  `id_komentarza` INT NOT NULL,
  `id_prac` INT NULL,
  `id_zglosz` INT NULL,
  `comment` VARCHAR(45) NULL,
  `data` DATETIME NULL,
  PRIMARY KEY (`id_komentarza`),
  INDEX `id_prac_idx` (`id_prac` ASC) VISIBLE,
  INDEX `id_zglosz_idx` (`id_zglosz` ASC) VISIBLE,
  CONSTRAINT `id_prac`
    FOREIGN KEY (`id_prac`)
    REFERENCES `system`.`pracownicy` (`id_prac`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `id_zglosz`
    FOREIGN KEY (`id_zglosz`)
    REFERENCES `system`.`zgloszenia` (`id_zglosz`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);

CREATE TABLE `system`.`zadania_prac` (
  `id`INT NOT NULL,`id_zglosz` INT NOT NULL,
  `id_prac` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `id_prac_idx` (`id_prac` ASC) VISIBLE,
  CONSTRAINT `id_zglosz/2`
    FOREIGN KEY (`id_zglosz`)
    REFERENCES `system`.`zgloszenia` (`id_zglosz`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `id_prac/2`
    FOREIGN KEY (`id_prac`)
    REFERENCES `system`.`pracownicy` (`id_prac`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);

